<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
    
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="LMath.js"></script>
    <script src="calculator.js"></script>
  </head>
  <body>
    <div id="header" class="center">
      <p class="xbig">Calculator</p>
    </div>
    <div id="calculator" class="center">
      <p class="medium">Equation:</p><input type="text" id="equationInput" style="width: 60%;"></input>
      <p id="answer" class="medium">=</p>
      <button id="calculate-button" class="medium" onclick="outputAnswer('equationInput', 'answer');"><strong>Calculate</strong></button>
    </div>
    <br><br><br><br><br><br>
    <div id="info" style="width: 60%; margin: auto;">
      <p class="big center">Goals</p>
      <p class="small">
          There were two goals in building this calculator: programming a <a href="calculator.js">parser</a> and a
        <a href="LMath.js">math functions library</a>. The parser should use PFEMDAS (parentheses, functions, exponents, multiplication,
        division, addition, subtraction), calculating first P, then F, then E, then M and D, and finally A and S. The goal with LMath
        was to program a library of math functions from scratch. No Math.sin, Math.floor, or Math.exp, only LMath.sin, LMath.floor, and
        LMath.exp, in addition to the rest of LMath methods and constants.
      </p>
      <p class="big center">How Does it Work?</p>
      <br>
      <p class="medium center">Overview</p>
      <p class="small">
          There are two parts to this calculator: a <span class="green">parser</span> that organizes the expression entered, 
        breaking it up by operators and parentheses into simpler 1-step operations the computer can do, and a library of math 
        functions, such as sin, sqrt, and ln, called <span class="blue">LMath</span>.
        <br><br>
          The <span class="green">parser</span> could, for
        example, take an input like <strong>4 * (1 - 9)</strong> and determine, first, there are parentheses, so calculate them first.
        <strong>1 - 9 = -8</strong> so replace <strong>(1 - 9)</strong> with <strong>-8</strong>, giving a new input of <strong>4 * -8</strong>. The
        <span class="green">parser</span> again checks for parentheses, finds none, so checks for functions and exponents. When it finds
        none, it checks for multiplication and division. It finds multiplication, performs <strong>4 * -8 = -32</strong>, and replaces
        <strong>4 * -8</strong> with <strong>-32</strong>. When the parser finds no addition or subtraction following -32, it realizes -32 is the
        only term left, so returns it as the answer. In programatic terms, the parser performs PFEMDAS (parentheses, functions, exponents,
        multiplication, division, addition, subtraction) on its input, recursively PFEMDASing the contents of each parenthesis pair and 
        replacing the original input's parentheses with the result.
        <br><br>
          The <span class="blue">LMath</span> library could tell the <span class="green">parser</span> what the ln(44) is, if it needed to
        know because, say, its input was 1 + ln(44).
      </p>
      <br><br><br>
      <p class="medium center">LMath</p>
      <p class="small">
          The creation of LMath was an exercise in mathematics and algorithms. In programming from scratch the same functionality as the
        built-in javascript Math library, considerations had to be made for speed in addition to functionality, as most functions build
        off of the foundation laid by previous ones, forming a need for speed through a weakest-link dynamic. For example, the sqrt 
        function uses the pow function which uses the ln function which uses the exp function which uses the intPow function which uses
        the isInt function which uses the floor function which, breaking the chain, uses only addition, multiplication, and loops.
        <br><br><span class="center"><strong>sqrt -> pow -> ln -> exp -> intPow -> isInt -> floor -> basic operations</strong></span><br><br>
        <span class="blue">LMath's</span> methods and constants, linked to descriptions and examples.
      </p>
      <ul id="LMathAttributesList" class="noListStyle"></ul>
      <script>
        var LMathAttributes = [
          {"name": "derivativeMargin", "description": "h in the limit definition of a derivative: (f(x + h) - f(x))/h"},
          {"name": "error", "description": "A guaranteed precision for results."},
          {"name": "PI", "description": "pi = 3.14159..."},
          {"name": "RECPI", "description": "1 / pi = 0.31830..."},
          {"name": "TAU", "description": "tau = 2*pi = 6.28318..."},
          {"name": "RECTAU", "description": "1 / tau = 0.15915..."},
          {"name": "E", "description": "e = 2.71828..."},
          {"name": "RECE", "description": "1/e = 0.36787..."},
          {"name": "LN2", "description": "The natural log of 2 = ln(2) = 0.69314..."},
          {"name": "SQRT2", "description": "The square root of 2 = sqrt(2) = 1.41421..."},
          {"name": "RECSQRT2", "description": "1 / sqrt(2) = 0.70710..."},
          {"name": "abs", "description": "The absolute value function returns the input made positive: if the input is negative, return negative input (-x) to make it positive and if the input is positive, return it."},
          {"name": "floor", "description": ""},
          {"name": "ceil", "description": ""},
          {"name": "round", "description": ""},
          {"name": "isInt", "description": "test1"},
          {"name": "intPower", "description": ""},
          {"name": "factorial", "description": ""},
          {"name": "derivativeApproximation", "description": ""},
          {"name": "newtonianApproximation", "description": ""},
          {"name": "ln", "description": ""},
          {"name": "exp", "description": ""},
          {"name": "pow", "description": ""},
          {"name": "sqrt", "description": "sqrt"},
          {"name": "sin", "description": ""},
          {"name": "cos", "description": ""},
          {"name": "tan", "description": ""},
          {"name": "csc", "description": ""},
          {"name": "sec", "description": ""},
          {"name": "cot", "description": ""},
        ];
        
        function toggleExpand(p, button) {
          if (p.style.display == "none") {
            p.style.display = "initial";
            button.textContent = "-";
          }
          else {
            p.style.display = "none";
            button.textContent = "+";
          }
        }
        
        var attribute, ul, li, titleSpan, br, descriptionDiv, descriptionP, expandButton;
        ul = document.getElementById("LMathAttributesList");
        for (var i = 0; i < LMathAttributes.length; i++) {
          attribute = LMathAttributes[i];
          
          li = document.createElement("li");
          
          titleSpan = document.createElement("span");
          titleSpan.classNames = "blue medium";
          titleSpan.textContent = attribute.name;
          li.appendChild(titleSpan);
          br = document.createElement("br");
          li.appendChild(br);
          
          descriptionDiv = document.createElement("div");
          
          descriptionP = document.createElement("p");
          descriptionP.textContent = attribute.description;
          descriptionP.style.display = "none";
          descriptionDiv.appendChild(descriptionP);
          
          expandButton = document.createElement("button");
          expandButton.textContent = "+";
          expandButton.onclick = "toggleExpand(descriptionP, expandButton);";
          descriptionDiv.appendChild(expandButton);
          
          li.appendChild(descriptionDiv);
          
          ul.appendChild(li);
        }
      </script>
    </div>
  </body>
</html>
